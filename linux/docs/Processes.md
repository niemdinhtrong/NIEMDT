# Linux  process

Trong Linux Hệ điều hành xem mỗi đơn thể mã lệnh mà nó điều khiển là một tiến trình(process). Một chương trình có thể bao gồm nhiều tiến trình kết hợp với nhau.Các tiến trình hoạt động chia sẻ tốc độ xử lý của CPU,cùngdùng chung vùng nhớ và các tài nguyên hệ thông khác. Các tiến trình được điều phối xoay vòng bởi hệ điều hành. Một chương trình nếu mở rộng dần ra, sẽ có lúc cần phải tách ra thành nhiều tiến trình để xủa lý những công việc độc lập với nhau. Thực tế trong Linux các lệnh là độc lập với nhau có khả năng kết hợp và truyền dự liệu cho nhau.
Tiến trình của chúng ta hoạt động phải luôn ở trạng thái tôn trọng và sẵn sàng nhường quyền xử lý CPU cho các tiến trình khác khi hệ thống có yêu cầu. Nếu một tiến trình xây dựng không tốt sẽ gây ra lỗi sẽ làm treo các tiến trình khác hay thậm chí là phá vỡ hệ thống.
Tiến trình là một thực thể điều khiển đoạn mã lệnh có riêng một không gian địa chỉ, có ngăn xếp stack riêng rẽ, có bảng chứa thông số mô tả file được mở cùng tiến trình và đặc biệt có một định danh `PID` duy nhất trên hệ thống vào thời điểm tiến trình đang chạy.
Trong Linux, tiến trình được cấp không gian địa chỉ bộ nhớ phẳng là 4GB. Dữ liệu cảu tiến trình này không thể đọc và truy xuất được bởi các tiến trình khác. Hai tiến trình khác nhau không thể xâm phạm biến của nhau. Tuy nhiên nếu chúng ta muốn chia sẻ dữ liệu giữa 2 tiến trình, Linux cung cấp cho ta một vùng không gian địa chỉ chung để làm điều này.

### Cách hoạt động cảu tiến trình
Khi một tiến trình đang chạy từ dòng lệnh, chúng ta có thể nhấn phím `Ctrl+z` để đưa nó vào hoạt động phía hậu trường. Tiến trình cảu Linux có các trạng thái:
 * Đang chạy(running): đây là lúc tiến trình chiếm quyền xử  lý CPU dùng tính toán hay thực hiện các công việc của mình.
 * Chờ(waiting): tiến trình bị Hệ Điều Hành tước quyền xử lý CPU, và chờ đến lượt cấp phát khác.
 * Tạm dừng(suspend): Hệ điều hành tạm dừng tiến trình. Tiến trình được đưa vào trạng thái sleep. Khi cần thiết và có nhu cầu hệ điều hành sẽ đánh thức hay nạp lại mã lệnh của tiến trình vào bộ nhớ. Cấp phát tài nguyên CPU để tiến trình tiếp tục hoạt động.
Thực tế khi chúng ta đăng nhập vào hệ thống và tương tác trên dòng lệnh cùng là lúc chúng ta đang ở trong tiến trình shell của bash. Khi gọi một lệnh có nghĩa là chúng ta yêu cầu bash tạo thêm một tiến trình con thực thi khác.
Lệnh `ps` và các option hệ thống sẽ liệt kê cho chúng ta thông tin về các tiến trình mà hệ điều hành đang kiểm soát.
### Bảng thông tin tiến trình
Hệ điều hành lưu giữ một cấu trúc danh sách bên trong hệ thống gọi là bảng tiến trình. Bảng tiến trình quản lý tất cả PID của hệ thống cùng với thông tin chi tiết về các tiến trình đang chạy. Ví dụ khi ta gọi lệnh `ps`, Linux thường đọc thông tin trong bảng tiến trình này và hiển thị những lệnh hay tên tiến trình được gọi: thời gian chiếm giữ CPU của tiến trình, tên người sử dụng tiến trình.
Tùy theo tham số , `ps` sẽ cho biết thông tin về tiến trình người dùng, tiến trình của hệ thống hoặc tất cả các tiến trình đang chạy. Lệnh `ps -af` sẽ trả về kết quả chi tiết.
Trong thông tin do `ps` trả về, `UDI` là tên của người dùng đã goi tiến trình, `PID` là định danh mà hệ thống cấp cho tiến trình, `PPID` là định danh của tiến trình cha. Ở đây chúng ta sẽ gặp một số tiến trình có định danh `PPID` là 1, 1 là định danh của tiến trình `init`, wuwocj gọi chạy khi hệ thống khởi động. Nếu chúng ta hủy tiến trình `init` thì hệ điều hành sẽ chấm dứt phiên làm việc. `STIME` là thời gian tiến trình cha được sử dụng. `TIME` là thời gian chiếm CPU của tiến trình. `CMD` toàn bộ dòng lệnh khi tiến trình được triệu gọi. `TTY` là màn hình terminal ảo nơi thực hiện tiến trình (Như chúng ta đã biết người dùng có thể đăng nhập vào hệ thống Linux từ rất nhiều terminal khác nhau để gọi tiến trình). Để liệt kê các tiến trình hệ thống, chúng ta sử dụng lệnh `ps -ax`